# Backend Server для парсинга прогнозов

## Установка

```bash
cd server
npm install
```

## Запуск

```bash
# Разработка
npm run dev

# Продакшн
npm start
```

Сервер запустится на порту 3001 (или порту, указанному в переменной окружения PORT).

## API Endpoints

### GET /api/predictions
Получает последние 10 прогнозов с сайта bookmaker-ratings.ru/forecast_homepage/

**Ответ:**
```json
[
  {
    "id": 1234567890,
    "eventName": "Манчестер Сити - Ливерпуль",
    "discipline": "Футбол",
    "tournament": "Английская Премьер-Лига",
    "expert": {
      "name": "Дмитрий Волков",
      "avatar": "https://...",
      "status": "expert",
      "winRate": 73
    },
    "prediction": "Обе забьют: Да",
    "odds": 1.85,
    "comment": "Комментарий к прогнозу...",
    "source": "Sports Analytics Pro",
    "timestamp": "2 часа назад"
  }
]
```

### POST /api/predictions/refresh
Принудительное обновление прогнозов (удаляет старые, добавляет новые последние 10)

**Ответ:**
```json
{
  "success": true,
  "predictions": [...],
  "count": 10
}
```

### GET /api/news
Получает последние новости (отдельный парсер для новостей)

### GET /api/health
Проверка здоровья сервера

## Особенности

- Кэширование прогнозов на 5 минут
- Автоматическое ограничение до последних 10 прогнозов
- При обновлении старые прогнозы удаляются, добавляются новые
- Раздельные парсеры для прогнозов и новостей

## Переменные окружения

- `PORT` - порт сервера (по умолчанию 3001)

